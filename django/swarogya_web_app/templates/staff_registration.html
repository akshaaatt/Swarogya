{% load static %}
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<link rel="icon" type="image/x-icon" href="/favicon.ico">

	<title>Swarogya</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

	<!-- CSS Files -->
	<link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
	<link href="{% static 'css/material-bootstrap-wizard.css' %}" rel="stylesheet" />

	<!-- CSS Just for demo purpose, don't include it in your project -->
	<link href="{% static 'css/demo.css' %}" rel="stylesheet" />

	<link rel="stylesheet" href="{% static 'build/css/intlTelInput.css' %}">
	<link rel="stylesheet" href="{% static 'build/css/demo.css' %}">

	<style>
	/* The message box is shown when the user clicks on the password field */
#message {
display:none;
background: #f1f1f1;
color: #000;
position: relative;
padding: 20px;
margin-top: 10px;
}

#message p {
padding: 10px 35px;
font-size: 10px;
}

/* Add a green text color and a checkmark when the requirements are right */
.valid {
color: green;
}

.valid:before {
position: relative;
left: -35px;
content: "✔";
}

/* Add a red text color and an "x" when the requirements are wrong */
.invalid {
color: red;
}

.invalid:before {
position: relative;
left: -35px;
content: "✖";
}
body, html {
  height: 100%;
  margin: 0;
}

.bg {
  /* The image used */
	background-image: url(' /static/img/Moving.jpg');

  /* Full height */
  height: 100%;
	width: 100%;

  /* Center and scale the image nicely */
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

	</style>
</head>

<body>
	<div class="bg set-full-height" >
	    <!--   Creative Tim Branding   -->
	         <div class="logo-container">
	            <div class="logo">
	                <img src="{% static 'img/swarogya_logo_favicon_new.png' %}">
	            </div>
	            <div class="brand">
	                Swarogya
	            </div>
	        </div>



	    <!--   Big container   -->
	    <div class="container">
	        <div class="row">
		        <div class="col-sm-8 col-sm-offset-2">
		            <!--      Wizard container        -->

		            <div class="wizard-container">

		                <div class="card wizard-card" data-color="blue" id="wizardProfile">
                        <center>
                          <div class="wizard-header">
                              <h3 class="wizard-title">
                                Register Health Professionals
                              </h3>
                  <h5>Registration Health Professionals to give Access</h5>
                          </div>

                  <div class="wizard-navigation">
                    <ul>
                                    <li><a href="#about" data-toggle="tab">Health Professional Registration</a></li>
                                    <li><a href="#address" data-toggle="tab">Remove Account</a></li>
                                </ul>
                  </div>


		                        <div class="tab-content">
		                            <div class="tab-pane" id="about">
		                              <div class="row">
                                    <div class="col-sm-10 col-sm-offset-2">
		                                	<div class="col-sm-10">

																				<form action="{% url 'swarogya_web:staff_registration' %}" method="post" enctype="multipart/form-data">
																		<!--        You can switch " data-color="purple" "  with one of the next bright colors: "green", "orange", "red", "blue"       -->
																					{% csrf_token %}

												<div class="input-group">
													<span class="input-group-addon">
														<i class="material-icons">person</i>
													</span>
													<div class="form-group label-floating">
			                                         <label class="control-label">Name</label>
			                                          <input id="staff_name" name="staff_name" type="text" class="form-control"autocomplete="off" required>
			                                        </div>
												</div>
												<div class="input-group">
													<span class="input-group-addon">
														<i class="material-icons">person</i>
													</span>
													<div class="form-group label-floating">
																							 <label class="control-label">Hospital Name</label>
																								<input id="hospital_name" name="hospital_name" type="text" class="form-control"autocomplete="off" disabled>
																							</div>
												</div>

                        <div class="input-group">
                          <span class="input-group-addon">
                            <i class="material-icons">medical_services</i>
                          </span>
                          <div class="form-group label-floating">
                                               <label class="control-label">Designation</label>
                                                <input id="staff_designation" name="staff_designation" type="text" class="form-control"autocomplete="off"  required>
                                              </div>
                        </div>

                        <div class="input-group">
                          <span class="input-group-addon">
                            <i class="material-icons">perm_identity</i>
                          </span>
                          <div class="form-group label-floating">
                            <label class="control-label">Staff ID</label>
                            <input id="staff_id" name="staff_id" type="text" class="form-control" size='10'autocomplete="off"  required>
                          </div>
                        </div>

												<div class="input-group">
													<span class="input-group-addon">
														<i class="material-icons">contact_phone</i>
													</span>
													<div class="form-group label-floating">
														<label>Phone Number</label>
														<input id="phone" name="phone" type="tel" class="form-control" autocomplete="off" required>
													</div>
												</div>

                        <div class="input-group">
                          <span class="input-group-addon">
                            	<i class="material-icons">email</i>
                          </span>
                          <div class="form-group label-floating">
                                               <label class="control-label">Health Professional Login Email</label>
                                                <input id="staff_email" name="staff_email" type="email" class="form-control" autocomplete="off" required>
                                              </div>
                        </div>



                        <div class="input-group">
                          <span class="input-group-addon">
                            	<i class="material-icons">vpn_key</i>
                          </span>
                          <div class="form-group label-floating">
                                               <label class="control-label">Password</label>
                                                <input id="psw" class="form-control"type="password" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                                title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" autocomplete="off"  required>
                                              </div>
                        </div>

                        <div id="message">
                          <h4>Password must contain the following:</h4>
                          <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
                          <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
                          <p id="number" class="invalid">A <b>number</b></p>
                          <p id="length" class="invalid">Minimum <b>8 characters</b></p>
                        </div>
                        <center>
<button id="registration" name="registration" class="btn btn--secondary" type="submit" style="color:white;width:150px;background-color:#006699;box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);">Submit</button>
                        </center>

												</form>
		                                	</div>
		                            	</div>
		                            </div>
                                </div>

		                            <div class="tab-pane" id="address">
		                                <div class="row">
                                      <div class="col-sm-10 col-sm-offset-2">
                                        <div class="col-sm-10">

																					<form action="{% url 'swarogya_web:staff_registration' %}" method="post" enctype="multipart/form-data">
																			<!--        You can switch " data-color="purple" "  with one of the next bright colors: "green", "orange", "red", "blue"       -->
																						{% csrf_token %}
																		 <div class="input-group">
																			 <span class="input-group-addon">
																				 <i class="fa fa-envelope icon"></i>
																			 </span>
																			 <div class="form-group label-floating">
																														<label class="control-label">Health Professional Email</label>
																														 <input id="toRemoveEmail" name="toRemoveEmail" type="email" class="form-control" autocomplete="off"  required>
																													 </div>
																		 </div>

																		 <center>
																		 <button id="remove_email" name="remove_email" class="btn btn--secondary" type="submit" style="color:white;width:150px;background-color:#006699;box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);">Submit</button>
																		 </center>
																		 </form>


																   </div >

		                                </div>
                                    </div>


													</div>

                      </center>
                      <button class="btn btn--secondary" onclick='logout()'style="color:white;background-color:#006699;box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);margin:2px 40px;">Logout</button>
												<br>
									  </div>
									</div>
		            </div> <!-- wizard container -->
		        </div>
	        </div><!-- end row -->
	    </div> <!--  big container -->
			<div class="footer">
					<div class="container text-center">

					</div>
			</div>
	</div>

</body>
  <script src="{% static 'dashboard_final_assets/js/core/bootstrap-material-design.min.js' %}"></script>
<script src="{% static 'build/js/intlTelInput.js' %}"></script>
<script>
$(document).bind("contextmenu",function(e) {
	 e.preventDefault();
	});
	$(document).keydown(function(e){
			if(e.which === 123){
				 return false;
			}
	});
	var input = document.querySelector("#phone");
	window.intlTelInput(input, {
		autoHideDialCode: false,
		 initialCountry: "in",
		nationalMode: false,
		utilsScript: "{% static 'build/js/utils.js' %}",
	});
</script>

	<!--   Core JS Files   -->
  <script src="{% static 'js/jquery-2.2.4.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'js/bootstrap.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'js/jquery.bootstrap.js' %}" type="text/javascript"></script>

	<!--  Plugin for the Wizard -->
	<script src="{% static 'js/material-bootstrap-wizard.js' %}"></script>

    <!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
	<script src="{% static 'js/jquery.validate.min.js' %}"></script>

	<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-analytics.js"></script>

	<script>

	var myInput = document.getElementById("psw");
	var letter = document.getElementById("letter");
	var capital = document.getElementById("capital");
	var number = document.getElementById("number");
	var length = document.getElementById("length");

	// When the user clicks on the password field, show the message box
	myInput.onfocus = function() {
	  document.getElementById("message").style.display = "block";
	}

	// When the user clicks outside of the password field, hide the message box
	myInput.onblur = function() {
	  document.getElementById("message").style.display = "none";
	}

	// When the user starts to type something inside the password field
	myInput.onkeyup = function() {
	  // Validate lowercase letters
	  var lowerCaseLetters = /[a-z]/g;
	  if(myInput.value.match(lowerCaseLetters)) {
	    letter.classList.remove("invalid");
	    letter.classList.add("valid");
	  } else {
	    letter.classList.remove("valid");
	    letter.classList.add("invalid");
	  }

	  // Validate capital letters
	  var upperCaseLetters = /[A-Z]/g;
	  if(myInput.value.match(upperCaseLetters)) {
	    capital.classList.remove("invalid");
	    capital.classList.add("valid");
	  } else {
	    capital.classList.remove("valid");
	    capital.classList.add("invalid");
	  }

	  // Validate numbers
	  var numbers = /[0-9]/g;
	  if(myInput.value.match(numbers)) {
	    number.classList.remove("invalid");
	    number.classList.add("valid");
	  } else {
	    number.classList.remove("valid");
	    number.classList.add("invalid");
	  }

	  // Validate length
	  if(myInput.value.length >= 8) {
	    length.classList.remove("invalid");
	    length.classList.add("valid");
	  } else {
	    length.classList.remove("valid");
	    length.classList.add("invalid");
	  }
	}

	</script>
	<script type="text/javascript">

		if("{{validity}}"){
			alert("{{validity}}");
		}

</script>
	<script>
		// Your web app's Firebase configuration
		var firebaseConfig = {
			apiKey: "AIzaSyCQ3q94q3HSYsrc8TvvQcgysw5Y7YFRMqg",
			authDomain: "swarogya-aa30d.firebaseapp.com",
			databaseURL: "https://swarogya-aa30d.firebaseio.com",
			projectId: "swarogya-aa30d",
			storageBucket: "swarogya-aa30d.appspot.com",
			messagingSenderId: "819552361415",
			appId: "1:819552361415:web:5c22d654f938c1403697e2",
			measurementId: "G-3MEWE6QZGV"
		};

		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		firebase.analytics();
		</script>

	<script>
	firebase.auth().onAuthStateChanged(function(user) {
	if (user) {
		// User is signed in.

		var user = firebase.auth().currentUser;

		if(user != null){
		}
	} else {
		// No user is signed in.
			//window.location.assign("{% url 'swarogya_web:staff_login'%}");
			alert("Logged out");
			window.location.assign("{% url 'swarogya_web:hospital_login'%}");
	}
});

function logout(){
	firebase.auth().signOut();
}

	document.getElementById('hospital_name').value = window.localStorage.getItem('hospitaladminName');
</script>

</html>
